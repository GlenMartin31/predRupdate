<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Input information about an existing prediction model — pred_input_info • predRupdate</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Input information about an existing prediction model — pred_input_info"><meta name="description" content="Input coefficient information about one or multiple existing prediction
model(s), for use in other functions in the package."><meta property="og:description" content="Input coefficient information about one or multiple existing prediction
model(s), for use in other functions in the package."><meta property="og:image" content="https://glenmartin31.github.io/predRupdate/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">predRupdate</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.1.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/predRupdate.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/predRupdate_splineIllustration.html">Example of Validating a Model that Includes Spline Terms</a></li>
    <li><a class="dropdown-item" href="../articles/predRupdate_technical.html">Technical Background to predRupdate</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/GlenMartin31/predRupdate/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Input information about an existing prediction model</h1>
      <small class="dont-index">Source: <a href="https://github.com/GlenMartin31/predRupdate/blob/master/R/pred_input_info.R" class="external-link"><code>R/pred_input_info.R</code></a></small>
      <div class="d-none name"><code>pred_input_info.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Input coefficient information about one or multiple existing prediction
model(s), for use in other functions in the package.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">pred_input_info</span><span class="op">(</span></span>
<span>  model_type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"logistic"</span>, <span class="st">"survival"</span><span class="op">)</span>,</span>
<span>  <span class="va">model_info</span>,</span>
<span>  cum_hazard <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-model-type">model_type<a class="anchor" aria-label="anchor" href="#arg-model-type"></a></dt>
<dd><p>specifies the type of model that the existing prediction
model is based on; possible options are:</p><ul><li><p><code>"logistic"</code>
indicates that the existing model was based on a logistic regression model
(default)</p></li>
<li><p><code>"survival"</code> indicates that the existing model was
based on a survival regression model</p></li>
</ul><p>If multiple models are being
entered, then all models need to be of the same type - otherwise call
function multiple times for each type of model.</p></dd>


<dt id="arg-model-info">model_info<a class="anchor" aria-label="anchor" href="#arg-model-info"></a></dt>
<dd><p>a data.frame that contains the coefficients of the existing
prediction model(s). Each column should be a predictor variable (with the
name of the column being the name of the predictor variable), with the
values being the coefficients, taken exactly as published from the existing
prediction model(s). Multiple existing prediction models should be
specified by entering multiple rows. If a predictor variable is not present
in a given model then enter that cell of the data.frame as NA. See
examples.</p></dd>


<dt id="arg-cum-hazard">cum_hazard<a class="anchor" aria-label="anchor" href="#arg-cum-hazard"></a></dt>
<dd><p>A data.frame with two columns: (1) time, and (2) estimated
cumulative baseline hazard at that time. The first column (time) should be
named 'time' and the second (cumulative baseline hazard) should be named
'hazard'. Only relevant if <code>model_type</code> is "survival"; leave as NULL
otherwise. If multiple existing models entered, and model_type = survival,
then <code>cum_hazard</code> should be supplied as list of length equal to number
of models.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p><code>pred_input_info</code> returns an object of class
"<code>predinfo</code>", with child classes per <code>model_type</code>. This is a
standardised format, such that it can be used with other functions in the
package. An object of class "<code>predinfo</code>" is a list containing the
following components:</p><ul><li><p>M = the number of existing models that information has been
entered about</p></li>
<li><p>model_type = this is the type of model that
the existing prediction model is based upon ("logistic" or "survival")</p></li>
<li><p>coefs = this is the set of (previously estimated) coefficients for
each predictor variable</p></li>
<li><p>coef_names = gives the names of each
predictor variable</p></li>
<li><p>formula = this is the functional form of the
model's linear predictor</p></li>
<li><p>cum_hazard = if supplied, this is the
cumulative baseline hazard of the existing model(s)</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function will structure the relevant information about one or
more existing prediction model(s) into a standardised format, such that it
can be used within other functions in the package.</p>
<p>First, the existing prediction model(s) will have a functional form (i.e.
the linear predictor of the model); this will be taken as being a linear
combination of the variables specified by the columns of <code>model_info</code>.</p>
<p>Second, each of the predictor variables of the existing prediction model(s)
will have a published coefficient (e.g. log-odds-ratio or
log-hazard-ratio), which should each be given as the values of
<code>model_info</code>. If entering information about multiple existing
prediction models, then <code>model_info</code> will contain multiple rows (one
per existing model). Here, if a given model does not contain a predictor
variable that is included in another model, then set as NA; see examples of
this below.</p>
<p>In the case of <code>model_type</code> = "logistic", then <code>model_info</code> must
contain a column named as "Intercept", which gives the intercept
coefficient of each of the existing logistic regression models (taken
exactly as previously published); this should be the first column of
<code>model_info</code>.</p>
<p>If <code>model_type</code> = "survival", then the baseline cumulative hazard of
the model(s) can be specified in <code>cum_hazard</code>. If the baseline
cumulative hazard of the existing survival model is not available, then
leave as NULL; this will limit any validation metrics that can be
calculated.</p>
<p>Note, the column names of <code>model_info</code> should match columns in any new
data that the existing model(s) will be applied to (i.e. any new data that
will be provided to other functions within the package should have
corresponding predictor variables entered through <code>model_info</code>). See
<code><a href="pred_predict.html">pred_predict</a></code>, <code><a href="pred_validate.html">pred_validate</a></code>,
<code><a href="pred_update.html">pred_update</a></code> and <code><a href="pred_stacked_regression.html">pred_stacked_regression</a></code> for
more information.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">#Example 1 - logistic regression existing model</span></span></span>
<span class="r-in"><span><span class="co"># create a data.frame of the model coefficients, with columns being variables</span></span></span>
<span class="r-in"><span><span class="va">coefs_table</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="st">"Intercept"</span> <span class="op">=</span> <span class="op">-</span><span class="fl">3.4</span>,</span></span>
<span class="r-in"><span>                          <span class="st">"SexM"</span> <span class="op">=</span> <span class="fl">0.306</span>,</span></span>
<span class="r-in"><span>                          <span class="st">"Smoking_Status"</span> <span class="op">=</span> <span class="fl">0.628</span>,</span></span>
<span class="r-in"><span>                          <span class="st">"Diabetes"</span> <span class="op">=</span> <span class="fl">0.499</span>,</span></span>
<span class="r-in"><span>                          <span class="st">"CKD"</span> <span class="op">=</span> <span class="fl">0.538</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">#pass this into pred_input_info()</span></span></span>
<span class="r-in"><span><span class="va">Existing_Logistic_Model</span> <span class="op">&lt;-</span> <span class="fu">pred_input_info</span><span class="op">(</span>model_type <span class="op">=</span> <span class="st">"logistic"</span>,</span></span>
<span class="r-in"><span>                                           model_info <span class="op">=</span> <span class="va">coefs_table</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">Existing_Logistic_Model</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Information about 1 existing model(s) of type 'logistic' </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Model Coefficients </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ================================= </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Intercept  SexM Smoking_Status Diabetes   CKD</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1      -3.4 0.306          0.628    0.499 0.538</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Model Functional Form </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ================================= </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> SexM + Smoking_Status + Diabetes + CKD</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#Example 2 - survival model example; uses an example dataset within the</span></span></span>
<span class="r-in"><span><span class="co">#             package.</span></span></span>
<span class="r-in"><span><span class="fu">pred_input_info</span><span class="op">(</span>model_type <span class="op">=</span> <span class="st">"survival"</span>,</span></span>
<span class="r-in"><span>                model_info <span class="op">=</span> <span class="va">SYNPM</span><span class="op">$</span><span class="va">Existing_TTE_models</span><span class="op">[</span><span class="fl">2</span>,<span class="op">]</span>,</span></span>
<span class="r-in"><span>                cum_hazard <span class="op">=</span> <span class="va">SYNPM</span><span class="op">$</span><span class="va">TTE_mod2_baseline</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Formula: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ~Age + SexM + Smoking_Status + Diabetes + Creatinine</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;environment: 0x56186543b288&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Coefficients: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          Age      SexM Smoking_Status  Diabetes Creatinine</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 0.02089659 0.2038455      0.5118238 0.1457449  0.3938243</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#Example 3 - Input information about multiple models</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="fu">pred_input_info</span><span class="op">(</span>model_type <span class="op">=</span> <span class="st">"logistic"</span>,</span></span>
<span class="r-in"><span>                        model_info <span class="op">=</span> <span class="va">SYNPM</span><span class="op">$</span><span class="va">Existing_logistic_models</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Information about 3 existing model(s) of type 'logistic' </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Model Coefficients </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ================================= </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[1]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Intercept        Age      SexM Smoking_Status  Diabetes Creatinine</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 -3.995452 0.01150886 0.2673809      0.7511888 0.5230999  0.5781238</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[2]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Intercept      SexM Smoking_Status  Diabetes Creatinine</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 -2.281796 0.2227019      0.5281743 0.2002136  0.4337511</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[3]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Intercept Smoking_Status   Diabetes Creatinine</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 -3.012865      0.5645417 -0.1223695  0.7314432</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Model Functional Form </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ================================= </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Model 1: Age + SexM + Smoking_Status + Diabetes + Creatinine</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Model 2: SexM + Smoking_Status + Diabetes + Creatinine</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Model 3: Smoking_Status + Diabetes + Creatinine</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Glen P. Martin, David Jenkins, Matthew Sperrin.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

